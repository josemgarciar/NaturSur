{% extends 'reservas/base.html' %}
{% load static %}

{% block content %}
<section class="hero hero-cover" style="--hero-image: url('{% static 'reservas/img/1.png' %}')">
  <div class="container hero-inner">
    <h1>Te ayudamos a alcanzar tu bienestar</h1>
    <p class="lead">Cuidado, nutrici√≥n y experiencias relajantes con esencia del Sur.</p>
    <div class="cta-row">
  <a class="btn btn-primary btn-pill" href="#reservas">Reservar</a>
  <a class="btn btn-light btn-pill" href="{% url 'tienda' %}">Tienda</a>
    </div>
  </div>
</section>

<section class="features">
  <div class="container features-grid">
    <div class="feature">
      <h4>Masaje y Osteopat√≠a</h4>
      <p>A trav√©s de t√©cnicas de masaje y osteopat√≠a, trabajamos para liberar restricciones, mejorar la postura y restaurar la armon√≠a de tu organismo.</p>
    </div>
    <div class="feature">
      <h4>Par Biomagn√©tico</h4>
      <p>El Par Biomagn√©tico es una t√©cnica que utiliza imanes para restaurar el balance natural del cuerpo, favoreciendo la capacidad de recuperaci√≥n del organismo.</p>
    </div>
    <div class="feature">
      <h4>T√©cnicas Emocionales</h4>
      <p>Muchas tensiones musculares, bloqueos o molestias f√≠sicas tienen un origen emocional. Utilizo diversas t√©cnicas para ayudarte a liberar esas cargas y sentirte m√°s ligero y equilibrado.</p>
    </div>
    <div class="feature">
      <h4>Asesoramiento Nutricional y Estilo de Vida</h4>
      <p>A trav√©s de un enfoque basado en la naturopat√≠a, te ayudo a mejorar tu alimentaci√≥n y a crear h√°bitos saludables que realmente funcionen para ti.</p>
    </div>
  </div>
</section>

<section id="reservas" class="booking">
  <div class="container">
    <h2>Reserva tu experiencia</h2>
    <p class="muted">Elige servicio, fecha y hora. Te confirmaremos por email.</p>

    <form class="form" method="post" action="{% url 'reservar' %}">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="alert">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="grid-2">
        <div class="form-field">
          <label for="id_name">{{ form.name.label }}</label>
          {{ form.name }}
          {{ form.name.errors }}
        </div>
        <div class="form-field">
          <label for="id_email">{{ form.email.label }}</label>
          {{ form.email }}
          {{ form.email.errors }}
        </div>
      </div>

      <div class="grid-2">
        <div class="form-field">
          <label for="id_phone">{{ form.phone.label }}</label>
          {{ form.phone }}
          {{ form.phone.errors }}
        </div>
        <div class="form-field">
          <label for="id_service">{{ form.service.label }}</label>
          {{ form.service }}
          {{ form.service.errors }}
        </div>
      </div>

      <div class="grid-2">
        <div class="form-field">
          <label for="id_date">{{ form.date.label }}</label>
          {{ form.date }}
          {{ form.date.errors }}
        </div>
        <div class="form-field">
          <label for="id_time">{{ form.time.label }}</label>
          {{ form.time }}
          {{ form.time.errors }}
        </div>
      </div>

      <div class="form-field">
        <label for="id_notes">{{ form.notes.label }}</label>
        {{ form.notes }}
        {{ form.notes.errors }}
      </div>

      <button class="btn btn-primary" type="submit">Confirmar reserva</button>
      <a class="btn btn-ghost" href="{% url 'tienda' %}">Ver tienda online</a>
    </form>
  </div>
</section>

<section class="social">
  <div class="container">
    <h2>√öltimas publicaciones</h2>
    <p class="muted">S√≠guenos en redes para novedades, bienestar y estilo de vida.</p>

    <div class="social-grid">
      <!-- YouTube -->
      <div class="social-col">
        <div class="social-col-header">
          <h3>‚ñ∂Ô∏è √öltimos V√≠deos YouTube</h3>
          <a class="link" href="{{ youtube_channel_url }}" target="_blank" rel="noopener">Ver canal</a>
        </div>

        {% if youtube_videos %}
          <div class="cards">
            {% for v in youtube_videos %}
              <a class="card" href="{{ v.url }}" target="_blank" rel="noopener">
                <div class="thumb" style="background-image:url('{{ v.image }}')"></div>
                <div class="card-body">
                  <div class="card-title">{{ v.title }}</div>
                </div>
              </a>
            {% endfor %}
          </div>
        {% else %}
          <div class="empty">
            <p class="muted">No se pudieron cargar los v√≠deos ahora.</p>
            <a class="btn btn-ghost" href="{{ youtube_channel_url }}" target="_blank" rel="noopener">Ir al canal</a>
          </div>
        {% endif %}
      </div>

      <!-- Instagram -->
      <div class="social-col">
        <div class="social-col-header">
          <div style="display:flex;align-items:center;gap:10px">
            <span style="font-size:24px">üì∏</span>
            <h3 style="margin:0;font-size:22px;font-weight:700">Instagram</h3>
          </div>
          <a class="link" href="{{ instagram_profile_url }}" target="_blank" rel="noopener">@yosoyescalona</a>
        </div>

        <div class="instagram-embed-wrapper">
          <iframe src="https://www.instagram.com/yosoyescalona/embed" width="100%" height="600" frameborder="0" scrolling="no" allowtransparency="true"></iframe>
        </div>
      </div>

      <!-- Facebook Page Plugin -->
      <div class="social-col">
        <div class="social-col-header">
          <h3>f S√≠guenos en Facebook</h3>
          <a class="link" href="{{ facebook_page_url }}" target="_blank" rel="noopener">Visitar p√°gina</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Facebook SDK (solo para esta p√°gina) -->
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v18.0" nonce="ns"></script>

<script>
  // Slideshow sencillo de portada si existen im√°genes 1‚Äì4 en static/reservas/img/
  (function(){
    const images = [
      "{% static 'reservas/img/1.png' %}",
      "{% static 'reservas/img/2.png' %}",
      "{% static 'reservas/img/3.png' %}",
      "{% static 'reservas/img/4.png' %}",
    ];
    let i = 0;
    const hero = document.querySelector('.hero.hero-cover');
    function next(){
      i = (i+1) % images.length;
      hero.style.setProperty('--hero-image', `url('${images[i]}')`);
    }
    setInterval(next, 6000);
  })();
</script>
{% endblock %}
