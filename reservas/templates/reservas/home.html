{% extends 'reservas/base.html' %}
{% load static %}

{% block content %}
<section class="hero hero-cover" style="--hero-image: url('{% static 'reservas/img/1.png' %}')">
  <div class="container hero-inner">
    <h1>Te ayudamos a alcanzar tu bienestar</h1>
    <p class="lead">Cuidado, nutrición y experiencias relajantes con esencia del Sur.</p>
    <div class="cta-row">
  <a class="btn btn-primary btn-pill" href="#reservas">Reservar</a>
  <a class="btn btn-light btn-pill" href="{% url 'tienda' %}">Tienda</a>
    </div>
  </div>
</section>

<section class="features">
  <div class="container features-grid">
    <div class="feature">
      <h4>Masajes</h4>
      <p>Relaja cuerpo y mente con aceites esenciales del sur.</p>
    </div>
    <div class="feature">
      <h4>Yoga</h4>
      <p>Clases en grupos reducidos y enfoque mindful.</p>
    </div>
    <div class="feature">
      <h4>Faciales</h4>
      <p>Tratamientos botánicos para una piel luminosa.</p>
    </div>
    <div class="feature">
      <h4>Spa</h4>
      <p>Recupera energía en nuestro circuito de aguas.</p>
    </div>
  </div>
</section>

<section id="reservas" class="booking">
  <div class="container">
    <h2>Reserva tu experiencia</h2>
    <p class="muted">Elige servicio, fecha y hora. Te confirmaremos por email.</p>

    <form class="form" method="post" action="{% url 'reservar' %}">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="alert">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="grid-2">
        <div class="form-field">
          <label for="id_name">{{ form.name.label }}</label>
          {{ form.name }}
          {{ form.name.errors }}
        </div>
        <div class="form-field">
          <label for="id_email">{{ form.email.label }}</label>
          {{ form.email }}
          {{ form.email.errors }}
        </div>
      </div>

      <div class="grid-2">
        <div class="form-field">
          <label for="id_phone">{{ form.phone.label }}</label>
          {{ form.phone }}
          {{ form.phone.errors }}
        </div>
        <div class="form-field">
          <label for="id_service">{{ form.service.label }}</label>
          {{ form.service }}
          {{ form.service.errors }}
        </div>
      </div>

      <div class="grid-2">
        <div class="form-field">
          <label for="id_date">{{ form.date.label }}</label>
          {{ form.date }}
          {{ form.date.errors }}
        </div>
        <div class="form-field">
          <label for="id_time">{{ form.time.label }}</label>
          {{ form.time }}
          {{ form.time.errors }}
        </div>
      </div>

      <div class="form-field">
        <label for="id_notes">{{ form.notes.label }}</label>
        {{ form.notes }}
        {{ form.notes.errors }}
      </div>

      <button class="btn btn-primary" type="submit">Confirmar reserva</button>
      <a class="btn btn-ghost" href="{% url 'tienda' %}">Ver tienda online</a>
    </form>
  </div>
</section>

<script>
  // Slideshow sencillo de portada si existen imágenes 1–4 en static/reservas/img/
  (function(){
    const images = [
      "{% static 'reservas/img/1.png' %}",
      "{% static 'reservas/img/2.png' %}",
      "{% static 'reservas/img/3.png' %}",
      "{% static 'reservas/img/4.png' %}",
    ];
    let i = 0;
    const hero = document.querySelector('.hero.hero-cover');
    function next(){
      i = (i+1) % images.length;
      hero.style.setProperty('--hero-image', `url('${images[i]}')`);
    }
    setInterval(next, 6000);
  })();
</script>
{% endblock %}
